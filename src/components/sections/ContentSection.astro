---
import SectionHeader from "../ui/SectionHeader.astro";
import { marked } from "marked";

interface ContentItem {
  title: string;
  content: string;
}

interface Props {
  title: string;
  items: ContentItem[];
  class?: string;
}

const { title, items, class: className = "" } = Astro.props;
---

{
  items && items.length > 0 && (
    <section class:list={["content-section", className]}>
      <SectionHeader title={title} />

      <div class="content-section__items">
        {items.map((item) => (
          <div class="content-section__item">
            <div
              class="content-section__content"
              set:html={marked.parse(item.content)}
            />
          </div>
        ))}
      </div>
    </section>
  )
}

<style>
  @import "tailwindcss";
  @reference "../../styles/globals.css";

  .content-section {
    @apply w-full flex flex-col gap-4;
  }

  .content-section__items {
    @apply flex flex-col gap-6;
  }

  .content-section__item {
    @apply flex flex-col gap-2 w-full;
  }

  .content-section__title {
    @apply text-lg font-semibold text-bw-primary;
  }

  .content-section__content {
    @apply text-base font-normal text-bw-primary leading-7;
  }

  .content-section__content :global(ul) {
    @apply list-disc list-inside space-y-0.5 my-2;
  }

  .content-section__content :global(ol) {
    @apply list-decimal list-inside space-y-0.5 my-2;
  }

  .content-section__content :global(ul ul),
  .content-section__content :global(ol ul),
  .content-section__content :global(ul ol),
  .content-section__content :global(ol ol) {
    @apply ml-6 mt-0.5 mb-0;
  }

  .content-section__content :global(p) {
    @apply my-2 leading-6;
  }

  .content-section__content :global(strong) {
    @apply font-semibold;
  }

  .content-section__content :global(em) {
    @apply italic;
  }

  .content-section__content :global(a) {
    @apply text-bw-primary hover:text-bw-secondary underline;
  }

  .content-section__content :global(h1) {
    @apply text-base font-bold text-bw-primary mt-4 mb-2;
  }

  .content-section__content :global(h2) {
    @apply text-base font-semibold text-bw-primary mt-4 mb-2;
  }

  .content-section__content :global(h3) {
    @apply text-base font-semibold text-bw-primary mt-1.5 mb-0.5;
  }
</style>
